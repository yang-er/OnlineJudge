@{
    var nowFilters = (IDictionary<string, string>)ViewBag.Filter;
    nowFilters.TryGetValue("pid", out var nowUid);
    nowUid = nowUid ?? "";
}

<a class="dropdown-toggle text-reset" id="prob-tag" aria-expanded="false" aria-haspopup="true" href="#" data-toggle="dropdown" data-offset="0,5">Prob</a>
<div class="dropdown-menu" aria-labelledby="prob-tag">
    <h6 class="dropdown-header">Problem ID filters</h6>
    <form method="get" class="mx-4 mt-1 mb-2">
        @foreach (var (k, v) in nowFilters)
        {
            if (k != "pid")
            {
                <input type="hidden" name="@k" value="@v" />
            }
        }
        <input type="number" class="form-control mb-2 form-control-sm" name="pid" value="@nowUid" />
        <button type="submit" class="btn btn-outline-secondary btn-sm">Filter</button>
    </form>
</div>