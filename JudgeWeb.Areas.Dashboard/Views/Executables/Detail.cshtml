@model Executable
@{
    ViewData["Title"] = "Executable " + Model.ExecId;
    IEnumerable<string> langs = ViewBag.AsCompile;
    IEnumerable<int> cmps = ViewBag.AsCompare;
    IEnumerable<int> runs = ViewBag.AsRun;
}

<h2 class="mt-2">@ViewData["Title"]</h2>

<div class="row">
    <div class="col-lg-4">
        <table class="table table-sm table-striped">
            <tr><th>ID</th><td>@Model.ExecId</td></tr>
            <tr><th>Name</th><td>@Model.Description</td></tr>
            <tr><th>MD5sum</th><td>@Model.Md5sum</td></tr>
            <tr><th>Type</th><td>@Model.Type</td></tr>
            <tr><th>Size</th><td>@Model.ZipSize bytes</td></tr>
            <tr><th>Content</th><td><a asp-action="Content" asp-route-execid="@Model.ExecId">View file contents</a></td></tr>
            @if (cmps.Any()){<tr><th>Used as compare script</th><td>@foreach (var pid in cmps){ <a asp-area="Polygon" asp-controller="Editor" asp-action="Overview" asp-route-pid="@pid">p@(pid)</a>}</td></tr>}
            @if (runs.Any()){<tr><th>Used as run script</th><td>@foreach (var pid in runs){ <a asp-area="Polygon" asp-controller="Editor" asp-action="Overview" asp-route-pid="@pid">p@(pid)</a>}</td></tr>}
            @if (langs.Any()){<tr><th>Used as compile script</th><td>@foreach (var pid in langs){ <a asp-controller="Languages" asp-action="Detail" asp-route-langid="@pid">@(pid)</a>}</td></tr>}
        </table>
    </div>
</div>

<div class="mb-4">
    <p>
        <a asp-route-execid="@Model.ExecId" asp-action="Download" class="btn btn-secondary" title="Download"><i class="fas fa-file-download"></i>&nbsp;Download</a>
        <a asp-route-execid="@Model.ExecId" asp-action="Edit" class="btn btn-primary" title="Edit"><i class="fas fa-edit"></i>&nbsp;Edit</a>
        <a asp-route-execid="@Model.ExecId" asp-action="Delete" class="btn btn-danger" title="Delete" data-toggle="ajaxWindow"><i class="fas fa-trash-alt"></i>&nbsp;Delete</a>
    </p>
</div>
